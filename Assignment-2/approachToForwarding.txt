get message from some source
extract the origin id
extract the final destination id
send request to controller which just contains the forwarders id and the final destination id
forwarder uses algorithm and forwarding table to determine next destination
controller returns address of next destination and where to send it from
send on the message, unchanged to the received ip



CONTROLLER SIDE:
node: elementid
edge: connected to every element id that shares the same subnet

use path finding to find the node order
then use the dictionary to find the subnet that those nodes share,
in turn this will allow you to state which ip to use